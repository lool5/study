{% extends 'tracker/base.html' %}

{% block title %}ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´Ù‡Ø± - {{ month.name }}{% endblock %}

{% block content %}
<style>
.day-item {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    padding: 10px;
    margin-bottom: 10px;
    transition: all 0.3s ease;
}
.day-item:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: translateY(-2px);
}
.day-item .stars {
    color: gold;
    font-size: 1.2rem;
}
.day-item .hours {
    font-size: 0.9rem;
    color: #d1d5db;
}
</style>

<div class="container py-5">
    <h2 class="text-center mb-4 text-primary">ğŸ“… {{ month.name }} ({{ month.stars }} Ù†Ø¬Ù…Ø© Ø¥Ø¬Ù…Ø§Ù„ÙŠ)</h2>
    <div class="row justify-content-center">
        {% for week in weeks %}
        <div class="col-md-3 mb-4">
            <div class="card p-3 text-center {% if week.stars > 0 %}border-warning{% endif %}">
                <h5 class="card-title">Ø£Ø³Ø¨ÙˆØ¹ {{ week.number }} ({{ week.stars }} Ù†Ø¬Ù…Ø©)</h5>
                <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ÙŠØ§Ù… -->
                <div class="day-list mt-3">
                    {% for day in week.day_set.all|dictsort:"date" %}
                    {% if day.cyber_hours > 0 or day.english_hours > 0 %}
                    <div class="day-item">
                        <a href="{% url 'day_detail' day.id %}" class="text-decoration-none">
                            <p class="mb-1">{{ day.date|date:"d/m/Y" }}</p>
                            <p class="hours mb-1">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø³Ø§Ø¹Ø§Øª: {{ day.cyber_hours|add:day.english_hours }} Ø³Ø§Ø¹Ø©</p>
                            <p class="stars mb-0">
                                {% if day.star %}
                                    â­â­â­ (3 Ù†Ø¬ÙˆÙ…)
                                {% else %}
                                    Ù„Ø§ Ù†Ø¬ÙˆÙ…
                                {% endif %}
                            </p>
                        </a>
                    </div>
                    {% endif %}
                    {% empty %}
                    <p class="text-muted">Ù„Ø§ Ø£ÙŠØ§Ù… Ù…Ø¯Ø±ÙˆØ³Ø© ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹.</p>
                    {% endfor %}
                </div>
                <a href="{% url 'week_detail' week.id %}" class="btn btn-custom mt-3">Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</a>
            </div>
        </div>
        {% empty %}
        <p class="text-center text-muted">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø§Ø¨ÙŠØ¹ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}