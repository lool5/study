{% extends 'tracker/base.html' %}

{% load humanize %}

{% block content %}
<style>
@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}
.star {
    animation: pulse 1s infinite;
}
</style>

<h2 class="text-center mb-4 text-info fw-bold">ğŸ“† Ø£Ø³Ø¨ÙˆØ¹ {{ week.number }} - {{ week.month.name }} ({{ week.stars|floatformat:0 }} Ù†Ø¬Ù…Ø©)</h2>
<div class="row justify-content-center g-3">
    {% for day in days %}
    <div class="col-md-2 col-sm-3">
        <div class="card p-3 text-center h-100 {% if day.cyber_hours|add:day.english_hours > 0 %}border-primary shadow-lg{% endif %}">
            <h6 class="fw-bold text-primary">{{ day.date|date:"d/m (E)" }}</h6>
            <p class="mb-2 small">Ø³Ø§ÙŠØ¨Ø±: {{ day.cyber_hours|floatformat:1 }}Ø³</p>
            <p class="mb-2 small">Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ: {{ day.english_hours|floatformat:1 }}Ø³</p>
            <p class="mb-2 small font-weight-bold">Ø¥Ø¬Ù…Ø§Ù„ÙŠ: {{ day.cyber_hours|add:day.english_hours|floatformat:1 }}Ø³</p>
            {% if day.star %}
            <span class="star text-warning" style="font-size: 1.5em;">â˜…â˜…â˜…</span>
            {% endif %}
            <a href="{% url 'day_detail' day.id %}" class="btn btn-custom btn-sm mt-2">ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙŠÙˆÙ…</a>
        </div>
    </div>
    {% empty %}
    <div class="col-12 text-center">
        <p class="text-muted fs-5">Ù„Ø§ Ø£ÙŠØ§Ù… Ù…Ø¶Ø§ÙØ© Ù„Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹. Ø£Ø¶Ù ÙŠÙˆÙ…Ù‹Ø§!</p>
    </div>
    {% endfor %}
</div>
<form method="POST" class="mt-4 text-center">
    {% csrf_token %}
    <div class="input-group w-50 mx-auto">
        <input type="date" name="new_date" class="form-control" min="2025-10-01" max="2026-10-01">
        <button type="submit" class="btn btn-success">+ Ø£Ø¶Ù ÙŠÙˆÙ… Ù…Ø±Ù†</button>
    </div>
</form>
<a href="{% url 'month_detail' week.month.id %}" class="btn btn-secondary mt-3">â† Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø´Ù‡Ø±</a>
{% endblock %} 

